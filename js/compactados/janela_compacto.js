if(typeof(i3GEO)==='undefined'){var i3GEO={}}i3GEO.janela={scrollBar:{theme:"minimal-dark",axis:"yx",scrollbarPosition:"inside",advanced:{autoExpandHorizontalScroll:true},scrollButtons:{enable:false},contentTouchScroll:false,documentTouchScroll:false},ULTIMOZINDEX:5,applyScrollBar:function(iddiv,seletor,config){var a=i3GEO.janela.scrollBar;if(config){a=i3GEO.util.cloneObj(i3GEO.janela.scrollBar);$.each(config,function(key,value){a[key]=value})}},prepara:function(){var iu=i3GEO.util;iu.escondeBox()},fecha:function(event,args){var i,id;i3GEO.util.escondeBox();if(i3GEO.janela.id){id=i3GEO.janela.id}else{id=event.id}if(id==undefined){id=args.id}i3GEO.janela.destroi(id)},alteraTamanho:function(w,h,id){var i;if(arguments.length===3){i=$i(id)}else{i=$i("wdoca")}if(i){i.style.width=w+"px";i.style.height=h+"px"}},CONTADORAGUARDE:[],abreAguarde:function(){var p=$i("i3GEObarraAguarde");i3GEO.janela.CONTADORAGUARDE.push(" ");if(p){p.style.width=(i3GEO.janela.CONTADORAGUARDE.length*15)+"%"}},fechaAguarde:function(){var p=$i("i3GEObarraAguarde");i3GEO.janela.CONTADORAGUARDE.pop();if(p){p.style.width=(i3GEO.janela.CONTADORAGUARDE.length*15)+"%"}},snackBar:function({content="",style="snackbar",timeout=4000,htmlAllowed=true,onClose=function(){}}){$("#snackbar-container").find("div").filter(function(){if($(this).hasClass('snackbar-opened')==false){$(this).remove()}});var options={content:content,style:style,timeout:timeout,htmlAllowed:htmlAllowed,onClose:onClose};var snack=$.snackbar(options);return snack},tempoMsg:function(texto,tempo){if(!tempo){tempo=4000}i3GEO.janela.snackBar({content:texto,timeout:tempo})},closeModal:false,closeMsg:function(texto){if(!texto){texto=""}if(!i3GEO.janela.closeModal){i3GEO.janela.closeModal=$(Mustache.render(i3GEO.template.janela.closemsg,{"texto":texto}));i3GEO.janela.closeModal.on('hidden.bs.modal',function(e){$("#i3GEOMensagemCloseModal").html("")});$(i3GEO.janela.closeModal).appendTo("body");i3GEO.janela.closeModal.modal("show")}else if(texto!=""){$("#i3GEOMensagemCloseModal").html(texto);i3GEO.janela.closeModal.modal("show")}if(texto==""){i3GEO.janela.closeModal.modal("hide")}},_formModal:false,formModal:function({objJanela=false,idForm="",expandable=true,resizable={disabled:true,ghost:true,handles:"se"},texto=false,footer=false,header=false,onclose=false,backdrop=false,draggable="enable",css=false}={}){var obj=false;if(objJanela==false){obj=i3GEO.janela._formModal}if(css==false){css={'cursor':'pointer','width':'','height':'','position':'fixed','top':0,'left':0,'right':0,'margin':'auto'}}if(draggable=="enable"){css.cursor="move";css.right="auto"}if(!obj){obj=$(Mustache.render(i3GEO.template.janela.formModal,{"texto":"","header":"","id":idForm}));obj.on('hidden.bs.modal',function(e){$("#i3GEOToolFormModal"+idForm).html("");$("#i3GEOToolFormModalHeader"+idForm).html("");$("#i3GEOToolFormModalFooter"+idForm).html("").css({display:"none"})});obj.resizable(resizable);if(resizable.disabled==true){obj.resizable("destroy")}obj.draggable({handle:".handleDraggable"});obj.css(css);obj.draggable(draggable);$(obj).appendTo("#"+i3GEO.Interface.IDCORPO);obj.find(".expandModal").on("click",function(){if($(this).data("expanded")==true){$(this).data("expanded",false);obj.css($(this).data("original"))}else{$(this).data("expanded",true);$(this).data("original",{top:obj.css("top"),left:obj.css("left"),width:obj.css("width"),height:obj.css("height")});obj.css({"top":"0px","left":"0px","width":"100%","height":"100%"})}})}if(expandable==true){obj.find(".expandModal").css("visibility","visible")}else{obj.find(".expandModal").css("visibility","hidden")}if(texto==false){obj.modal("hide")}else{$("#i3GEOToolFormModal"+idForm).html(texto);if(header){$("#i3GEOToolFormModalHeader"+idForm).html(header)}else{$("#i3GEOToolFormModalHeader"+idForm).html("")}if(footer){$("#i3GEOToolFormModalFooter"+idForm).html(footer).css({display:"block"})}else{$("#i3GEOToolFormModalFooter"+idForm).html("").css({display:"none"})}obj.find(".modal-content").css("height","");obj.css(css);obj.modal({backdrop:backdrop});obj.draggable(draggable);obj.resizable(resizable);if(resizable.disabled==true){obj.resizable("destroy")}else{obj.find(".modal-content").css("height","100%")}obj.css("padding-left",0)}if(i3GEO.parametros.w<420){i3GEO.guias.abreFecha("fecha")}if(onclose!=false){obj.on("hidden.bs.modal",function(){onclose();obj.unbind("hidden.bs.modal")})}else{obj.unbind("hidden.bs.modal")}obj.block=function(){$("#i3GEOToolFormModalWrap").css("display","block")};obj.unblock=function(){$("#i3GEOToolFormModalWrap"+idForm).css("display","none")};$("#i3GEOToolFormModalWrap").css("display","none");if(objJanela==false){i3GEO.janela._formModal=obj}return obj},ativaAlerta:function(){},confirma:function(pergunta,w,resposta1,resposta2,funcao1,funcao2){i3GEO.janela.closeMsg(" ");var msg=$("#i3GEOMensagemCloseModal");var f1,f2,f3;if(!funcao1||funcao1==""){f1=function(){i3GEO.janela.closeMsg();return true}}else{f1=function(){funcao1.call();i3GEO.janela.closeMsg()}}if(!funcao2||funcao2==""){f2=function(){i3GEO.janela.closeMsg();return false}}else{f2=function(){funcao2.call();i3GEO.janela.closeMsg()}}f3=function(){i3GEO.janela.closeMsg()};if(!resposta1||resposta1==""){resposta1=$trad("confirma")}b=[{text:resposta1,handler:f1}];if(resposta2&&resposta2!=""){b.push({text:resposta2,handler:f2})}msg.html("<h4 class='alertTitulo'>"+pergunta+"</h4><div class='form-group condensed' id='confirmaFooter'></div>");var ins="";$.each(b,function(index,value){ins=Mustache.render(i3GEO.template.botoes.padrao,{style:'margin-right:10px;',text:value.text});$('#confirmaFooter').append($(ins).click(value.handler))})},prompt:function(pergunta,funcaoOk,valorDefault){var botao=Mustache.render(i3GEO.template.botoes.padrao,{style:'margin-right:10px;',text:$trad("confirma"),id:"i3GEOJanelapromptOk"});var text=""+"<div class='form-group label-fixed condensed' >"+"    <label class='control-label' for=''>"+pergunta+"    </label>"+"    <input class='form-control input-lg' type='text' id='i3GEOjanelaprompt' value='"+valorDefault+"' />"+"</div>"+botao;i3GEO.janela.closeMsg(text);$("#i3GEOJanelapromptOk").on("click",function(){i3GEO.janela.closeMsg();funcaoOk.call()})},alerta:function({html="",pergunta="",funcaoOk=false,parametros=false}={}){var botao=Mustache.render(i3GEO.template.botoes.padrao,{style:'margin-right:10px;',text:$trad("confirma"),id:"i3GEOJanelapromptOk"});var text=""+"<div class='form-group label-fixed condensed' >"+"    <label class='control-label' for=''>"+pergunta+"    </label>"+html+"</div>"+botao;i3GEO.janela.closeMsg(text);$("#i3GEOJanelapromptOk").on("click",parametros,function(){i3GEO.janela.closeMsg();if(funcaoOk){funcaoOk(parametros)}})},mensagemSimples:function(texto){this.closeMsg(texto)},comboCabecalhoTemasBs:function(idDiv,idCombo,ferramenta,tipo,onButtonClick,temaSel){var temp=$i(idDiv);if(!temaSel){temaSel=""}if(temaSel==""&&i3GEOF[ferramenta]&&i3GEOF[ferramenta].tema&&i3GEOF[ferramenta].tema!=""){temaSel=i3GEOF[ferramenta].tema}else{temaSel=i3GEO.temaAtivo;if(i3GEOF[ferramenta]&&i3GEOF[ferramenta].tema){i3GEOF[ferramenta].tema=temaSel}}if(temp){i3GEO.util.comboTemas(temp.id+"Sel",function(retorno){var tema,container=$i(idDiv),botao;container.innerHTML+=retorno.dados;botao=$i(temp.id+"Sel");if(temaSel!=""){tema=i3GEO.arvoreDeCamadas.pegaTema(temaSel);if(tema&&tema!=undefined){botao.value=tema.name}else{botao.value=""}}else{botao.value=""}if(!onButtonClick){onButtonClick=function(botao){i3GEO.mapa.ativaTema(botao.value);if(botao.value==""){i3GEO.temaAtivo=""}if(i3GEOF[ferramenta]){i3GEOF[ferramenta].tema=botao.value;if($i("i3GEOF."+ferramenta+"_corpo")){$i("i3GEOF."+ferramenta+"_corpo").innerHTML="";eval("i3GEOF."+ferramenta+".inicia('i3GEOF."+ferramenta+"_corpo');")}}}}botao.onchange=onButtonClick},temp.id,"",false,tipo,"font-size: 12px;width: 95%;color:white;",false,true,"form-control comboTema")}}};